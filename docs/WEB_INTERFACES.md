# üåê –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ Predator Analytics

**–°–µ—Ä–≤–µ—Ä:** Nvidia Server (dev)  
**–î–æ—Å—Ç—É–ø:** –ß–µ—Ä–µ–∑ SSH-—Ç—É–Ω–µ–ª—å  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–Ω–∏–π  
**–°–µ—Ä–≤—ñ—Å–∏:** ‚úÖ Frontend –ø—Ä–∞—Ü—é—î, ‚úÖ Grafana –ø—Ä–∞—Ü—é—î

---

## üìä –ì–æ–ª–æ–≤–Ω—ñ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏

### üé® **Frontend (–û—Å–Ω–æ–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫)**
```
http://localhost:9082
```
**–û–ø–∏—Å:** –ì–æ–ª–æ–≤–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Predator Analytics  
**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è:** React + Vite  
**–ü–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ:** 8082  

### üîé **Semantic Search Interface (New v21.1)**
**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è:** Analytics View -> Top Search Bar  
**–§—É–Ω–∫—Ü—ñ—ó:**  
- **Semantic Toggle:** –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –º—ñ–∂ Deep Scan (Agents) —Ç–∞ Hybrid Search (Qdrant).
- **Evidence Grid:** –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –∑ –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è–º.
- **Combined Score:** –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—ñ (Keyword + Vector).

---

### üìä **Grafana (–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ Dashboards)**
```
http://localhost:9001
```
**–û–ø–∏—Å:** –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Ç–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–µ—Ç—Ä–∏–∫  
**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è:** Grafana  
**–ü–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ:** 3001  
**–õ–æ–≥—ñ–Ω:** admin (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ)

---

### üîß **Backend API (FastAPI)**

#### Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```
http://localhost:9000/docs
```

#### ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è  
```
http://localhost:9000/redoc
```

#### API endpoint
```
http://localhost:9000
```

**–û–ø–∏—Å:** REST API –¥–ª—è Predator Analytics  
**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è:** FastAPI (Python)  
**–ü–æ—Ä—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ:** 8000  

---

## üóÑÔ∏è –ë–∞–∑–∏ –¥–∞–Ω–∏—Ö (–¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–ª—ñ—î–Ω—Ç)

### PostgreSQL
```
Host: localhost
Port: 9432
User: (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ)
Password: (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ)
Database: predator_db
```

### Redis
```
Host: localhost
Port: 9379
```

---

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç—É–Ω–µ–ª—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
```bash
./scripts/server-tunnel.sh start
```

### –í—Ä—É—á–Ω—É
```bash
ssh -f -N -i ~/.ssh/id_ed25519_ngrok -p 14564 \\
  -L 9001:localhost:3001 \\
  -L 9082:localhost:8082 \\
  -L 9000:localhost:8000 \\
  -L 9432:localhost:5432 \\
  -L 9379:localhost:6379 \\
  dima@5.tcp.eu.ngrok.io
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
```bash
./scripts/server-tunnel.sh status
```

### –ó—É–ø–∏–Ω–∏—Ç–∏ —Ç—É–Ω–µ–ª—å
```bash
./scripts/server-tunnel.sh stop
```

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø—Ä–∞—Ü—é—î —Ç—É–Ω–µ–ª—å
```bash
lsof -i -P | grep LISTEN | grep -E ":(9001|9082|9000)"
```

–û—á—ñ–∫—É–≤–∞–Ω–∏–π –≤–∏–≤—ñ–¥:
```
ssh  PID user  IPv6  TCP localhost:9001 (LISTEN)
ssh  PID user  IPv6  TCP localhost:9082 (LISTEN)
ssh  PID user  IPv6  TCP localhost:9000 (LISTEN)
```

### –®–≤–∏–¥–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ curl
```bash
# Frontend
curl -I http://localhost:9082

# Backend API
curl http://localhost:9000/health

# Grafana
curl -I http://localhost:9001
```

---

## üí° –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Ä–∞–¥–∏

1. **–¢—É–Ω–µ–ª—å –ø—Ä–∞—Ü—é—î —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ**  
   –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –º–æ–∂–Ω–∞ –∑–∞–∫—Ä–∏—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª - —Ç—É–Ω–µ–ª—å –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫**  
   –î–æ–¥–∞–π—Ç–µ —É `.zshrc`:
   ```bash
   # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ç—É–Ω–µ–ª—é –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É
   if ! lsof -i:9082 > /dev/null 2>&1; then
       /Users/dima-mac/Documents/Predator_21/scripts/server-tunnel.sh start
   fi
   ```

3. **–ó–∞–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞**  
   –ó–±–µ—Ä–µ–∂—ñ—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è —É –∑–∞–∫–ª–∞–¥–∫–∞—Ö –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É:
   - üìä [Grafana](http://localhost:9001)
   - üé® [Frontend](http://localhost:9082)
   - üîß [API Docs](http://localhost:9000/docs)

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö**
   ```bash
   ./scripts/server-tunnel.sh restart
   ```

---

## üõ†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Address already in use"
```bash
# –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å –Ω–∞ –ø–æ—Ä—Ç—ñ
lsof -i :9082

# –í–±–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å
kill -9 <PID>

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç—É–Ω–µ–ª—å
./scripts/server-tunnel.sh restart
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused"
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –ø—Ä–∞—Ü—é—î —Å–µ—Ä–≤–µ—Ä
./scripts/server-status.sh

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –∑–∞–ø—É—â–µ–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
./scripts/server-connect.sh "docker ps"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –¢—É–Ω–µ–ª—å –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ SSH –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
ssh -i ~/.ssh/id_ed25519_ngrok dima@5.tcp.eu.ngrok.io -p 14564

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–ª—é—á
ls -la ~/.ssh/id_ed25519_ngrok*
```

---

## üì± –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –¥–æ—Å—Ç—É–ø—É

### 1. –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø (—è–∫—â–æ —î –ø—É–±–ª—ñ—á–Ω–∏–π IP)
‚ö†Ô∏è –ù–∞—Ä–∞–∑—ñ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ –±—Ä–∞–Ω–¥–º–∞—É–µ—Ä–æ–º

```
http://78.154.184.177:8082  # Frontend
http://78.154.184.177:3001  # Grafana  
http://78.154.184.177:8000  # API
```

### 2. –ß–µ—Ä–µ–∑ ngrok (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π)
–ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ:
```bash
ngrok http 8082  # Frontend
ngrok http 3001  # Grafana
```

---

## üéØ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

–î–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç—É–Ω–µ–ª—å
./scripts/server-tunnel.sh start

# 2. –í—ñ–¥–∫—Ä–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä
open http://localhost:9082  # Frontend
open http://localhost:9001  # Grafana  
open http://localhost:9000/docs  # API

# 3. –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –¥–æ–¥–∞—Ç–∫–æ–º
```

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-12-05 19:55  
**–°—Ç–∞—Ç—É—Å —Ç—É–Ω–µ–ª—é:** ‚úÖ –ê–∫—Ç–∏–≤–Ω–∏–π (PID: 51179)
