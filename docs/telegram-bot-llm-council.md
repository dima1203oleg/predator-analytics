# üß† LLM Council Integration - Telegram Bot v2.2

## –©–æ —Ç–∞–∫–µ LLM Council?

**LLM Council** - —Ü–µ –ø—ñ–¥—Ö—ñ–¥ –≤—ñ–¥ Andrej Karpathy, –¥–µ –∑–∞–º—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ LLM –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∫—ñ–ª—å–∫–∞ –º–æ–¥–µ–ª–µ–π, —è–∫—ñ:
1. –î–∞—é—Ç—å —Å–≤–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
2. –†–µ—Ü–µ–Ω–∑—É—é—Ç—å –æ–¥–∏–Ω –æ–¥–Ω–æ–≥–æ
3. –ì–æ–ª–æ–≤–∞ –†–∞–¥–∏ (Chairman) —Å–∏–Ω—Ç–µ–∑—É—î –Ω–∞–π–∫—Ä–∞—â—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å

---

## üöÄ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î –≤ Telegram –±–æ—Ç—ñ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –≤–∏–±—ñ—Ä —Ä–µ–∂–∏–º—É

–ë–æ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** –æ–±–∏—Ä–∞—î –º—ñ–∂:
- **Fast mode** (1 –º–æ–¥–µ–ª—å) - –ø—Ä–æ—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è
- **Council mode** (5 –º–æ–¥–µ–ª–µ–π) - —Å–∫–ª–∞–¥–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

### –©–æ –≤–≤–∞–∂–∞—î—Ç—å—Å—è —Å–∫–ª–∞–¥–Ω–∏–º –ø–∏—Ç–∞–Ω–Ω—è–º?

1. **–ö–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞:**
   - "–ø–æ—Ä—ñ–≤–Ω—è–π"
   - "–ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π"
   - "–ø–æ—è—Å–Ω–∏ –¥–µ—Ç–∞–ª—å–Ω–æ"
   - "—Ä–æ–∑–∫–∞–∂–∏ –ø—Ä–æ"
   - "—è–∫ –ø—Ä–∞—Ü—é—î"
   - "–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞"
   - "—Å–∏—Å—Ç–µ–º–∞"
   - "–ø–æ—Ä–∞–¥–∞"
   - "—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è"

2. **–î–æ–≤–∂–∏–Ω–∞:** –ë—ñ–ª—å—à–µ 15 —Å–ª—ñ–≤

### –ü—Ä–∏–∫–ª–∞–¥–∏

#### ‚úÖ –°–∫–ª–∞–¥–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è (Council mode):
```
–ü–æ—Ä—ñ–≤–Ω—è–π OpenSearch —Ç–∞ Elasticsearch
–ü–æ—è—Å–Ω–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É Predator Analytics
–Ø–∫ –ø—Ä–∞—Ü—é—î —Å–∏—Å—Ç–µ–º–∞ —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—ó?
–î–∞–π –ø–æ—Ä–∞–¥—É —â–æ–¥–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è
–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π –ø–µ—Ä–µ–≤–∞–≥–∏ –Ω–∞—à–æ–≥–æ –ø—ñ–¥—Ö–æ–¥—É
–†–æ–∑–∫–∞–∂–∏ –ø—Ä–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —Å–∏—Å—Ç–µ–º–∏
```

#### ‚ö° –ü—Ä–æ—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è (Fast mode):
```
–ü—Ä–∏–≤—ñ—Ç
–°—Ç–∞—Ç—É—Å
–°–∫—ñ–ª—å–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤?
–ß–∏ –ø—Ä–∞—Ü—é—î OpenSearch?
```

---

## ü§ñ –ë–µ–∑–ø–ª–∞—Ç–Ω—ñ –º–æ–¥–µ–ª—ñ –≤ Council

### Tier 1: Best Free (–∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è)
1. **Groq** - Llama 3 70B (—à–≤–∏–¥–∫–∞, —Ä–æ–∑—É–º–Ω–∞)
2. **Google Gemini** 1.5 Pro (–∫—Ä–µ–∞—Ç–∏–≤–Ω–∞, –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞)

### Tier 2: Good Free
3. **Cohere** Command R+ (—Å–∏–ª—å–Ω–µ reasoning)
4. **Together.ai** - Llama 3 70B (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

### Tier 3: Additional Free
5. **Mistral** Large Latest (–∑–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–∞)
6. **HuggingFace** - Mixtral 8x7B (open source)

**–î–æ 5 –º–æ–¥–µ–ª–µ–π –æ–¥–Ω–æ—á–∞—Å–Ω–æ!**

---

## üìä –ü—Ä–æ—Ü–µ—Å Council (3 –µ—Ç–∞–ø–∏)

### Stage 1: First Opinions
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Groq   ‚îÇ  ‚îÇ Gemini  ‚îÇ  ‚îÇ Cohere  ‚îÇ  ‚îÇTogether ‚îÇ  ‚îÇMistral  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ            ‚îÇ            ‚îÇ            ‚îÇ            ‚îÇ
     ‚ñº            ‚ñº            ‚ñº            ‚ñº            ‚ñº
   Answer1      Answer2      Answer3      Answer4      Answer5
```

–ö–æ–∂–Ω–∞ –º–æ–¥–µ–ª—å –¥–∞—î —Å–≤–æ—é –Ω–µ–∑–∞–ª–µ–∂–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è.

### Stage 2: Peer Review & Ranking
```
Groq    review‚Üí  Gemini, Cohere, Together, Mistral
Gemini  review‚Üí  Groq, Cohere, Together, Mistral
Cohere  review‚Üí  Groq, Gemini, Together, Mistral
...
```

–ö–æ–∂–Ω–∞ –º–æ–¥–µ–ª—å –æ—Ü—ñ–Ω—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —ñ–Ω—à–∏—Ö –∑–∞ —à–∫–∞–ª–æ—é 1-10:
- Accuracy (—Ç–æ—á–Ω—ñ—Å—Ç—å)
- Insight (–≥–ª–∏–±–∏–Ω–∞)
- Completeness (–ø–æ–≤–Ω–æ—Ç–∞)

**Anonymized** - –º–æ–¥–µ–ª—ñ –Ω–µ –∑–Ω–∞—é—Ç—å —Ö—Ç–æ –∞–≤—Ç–æ—Ä –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π!

### Stage 3: Chairman Synthesis
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Chairman (Gemini –∞–±–æ Groq)  ‚îÇ
‚îÇ                              ‚îÇ
‚îÇ  ‚Ä¢ –ß–∏—Ç–∞—î –≤—Å—ñ 5 –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π    ‚îÇ
‚îÇ  ‚Ä¢ –ë–∞—á–∏—Ç—å peer —Ä–µ–π—Ç–∏–Ω–≥–∏      ‚îÇ
‚îÇ  ‚Ä¢ –í–∏–ø—Ä–∞–≤–ª—è—î –ø–æ–º–∏–ª–∫–∏         ‚îÇ
‚îÇ  ‚Ä¢ –ü–æ—î–¥–Ω—É—î –Ω–∞–π–∫—Ä–∞—â–µ          ‚îÇ
‚îÇ  ‚Ä¢ –°—Ç–≤–æ—Ä—é—î —Ñ—ñ–Ω–∞–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚ñº
        üéØ Best Answer
```

---

## üí° –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ó–∞–ø–∏—Ç
```
USER: –†–æ–∑–∫–∞–∂–∏ –ø—Ä–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É Predator Analytics
```

### –©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è:

1. **–î–µ—Ç–µ–∫—Ü—ñ—è —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ:** ‚úÖ –°–∫–ª–∞–¥–Ω–µ (–∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ "–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É")

2. **–ó–∞–ø—É—Å–∫ Council:**
```
2025-12-08 00:10:15 | INFO | Using LLM Council for complex query: –†–æ–∑–∫–∞–∂i...
2025-12-08 00:10:15 | INFO | Council members: ['groq', 'gemini', 'cohere', 'together', 'mistral']
```

3. **Stage 1 - Opinions:**
```
2025-12-08 00:10:17 | INFO | Council opinions collected: 5/5
```

4. **Stage 2 - Reviews:**
```
2025-12-08 00:10:19 | INFO | Starting peer review stage...
2025-12-08 00:10:22 | INFO | Rankings collected: {0: [8, 9, 7], 1: [9, 8, 9], ...}
```

5. **Stage 3 - Synthesis:**
```
2025-12-08 00:10:25 | INFO | Council synthesis completed in 10500ms
```

### –í—ñ–¥–ø–æ–≤—ñ–¥—å
```
üß† **Council AI** (5 –º–æ–¥–µ–ª–µ–π)

Predator Analytics - —Ü–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –±—ñ–∑–Ω–µ—Å-–¥–∞–Ω–∏—Ö.

–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:

**Frontend:**
- React TypeScript –∑ Vite
- Real-time dashboard
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ AI

**Backend:**
- FastAPI (Python)
- Async –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- Multi-provider LLM routing

**Databases:**
- PostgreSQL - –æ—Å–Ω–æ–≤–Ω–∞ –ë–î
- OpenSearch - full-text –ø–æ—à—É–∫
- Qdrant - vector embeddings
- Redis - –∫–µ—à—É–≤–∞–Ω–Ω—è

**ETL Pipeline:**
- Celery workers
- Scheduled crawlers
- Data normalization

**ML/AI:**
- LLM Council (5 –º–æ–¥–µ–ª–µ–π)
- Embedding service
- Semantic search

**Infrastructure:**
- Docker Compose (local)
- Kubernetes/K3s (production)
- ArgoCD GitOps
- Grafana monitoring

_‚è±Ô∏è 10500ms | council-5members-gemini-chairman_
```

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### API Keys (–±–µ–∑–ø–ª–∞—Ç–Ω—ñ!)

```bash
# .env
GROQ_API_KEY=gsk_...              # Free tier: 14,400 RPD
GEMINI_API_KEY=AIza...            # Free tier: 60 RPM
COHERE_API_KEY=...                # Free trial
TOGETHER_API_KEY=...              # Free credits
MISTRAL_API_KEY=...               # Free tier
HUGGINGFACE_API_KEY=hf_...        # Free inference
```

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤:

1. **Groq:** https://console.groq.com/ (–Ω–∞–π—à–≤–∏–¥—à–∞!)
2. **Gemini:** https://aistudio.google.com/app/apikey
3. **Cohere:** https://dashboard.cohere.com/
4. **Together:** https://api.together.xyz/
5. **Mistral:** https://console.mistral.ai/
6. **HuggingFace:** https://huggingface.co/settings/tokens

–í—Å—ñ –º–∞—é—Ç—å **–±–µ–∑–ø–ª–∞—Ç–Ω—ñ —Ç–∞—Ä–∏—Ñ–∏**!

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ä–µ–∂–∏–º—ñ–≤

| –†–µ–∂–∏–º | –ú–æ–¥–µ–ª–µ–π | –ß–∞—Å | –Ø–∫—ñ—Å—Ç—å | –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ |
|-------|---------|-----|--------|------------------|
| **Fast** | 1 | ~500ms | –î–æ–±—Ä–∞ | –ü—Ä–æ—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è, –∫–æ–º–∞–Ω–¥–∏ |
| **Council** | 5 | ~10s | –í—ñ–¥–º—ñ–Ω–Ω–∞ | –°–∫–ª–∞–¥–Ω—ñ –∞–Ω–∞–ª—ñ–∑–∏, –ø–æ—Ä–∞–¥–∏ |

---

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ Council

‚úÖ **–í–∏—â–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å** - 5 –º–æ–¥–µ–ª–µ–π –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –æ–¥–Ω–∞ –æ–¥–Ω—É  
‚úÖ **–†—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ—Å—Ç—å** - —Ä—ñ–∑–Ω—ñ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ –ø—Ä–æ–±–ª–µ–º–∏  
‚úÖ **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫** - —è–∫—â–æ –æ–¥–Ω–∞ –º–æ–¥–µ–ª—å –ø–æ–º–∏–ª–∏–ª–∞—Å—å, —ñ–Ω—à—ñ –ø–æ–ø—Ä–∞–≤–ª—è—Ç—å  
‚úÖ **–ì–ª–∏–±—à–∏–π –∞–Ω–∞–ª—ñ–∑** - synthesis –ø–æ—î–¥–Ω—É—î –Ω–∞–π–∫—Ä–∞—â–µ  
‚úÖ **100% –±–µ–∑–ø–ª–∞—Ç–Ω–æ** - —Ç—ñ–ª—å–∫–∏ free –º–æ–¥–µ–ª—ñ!

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü—ñ—Å–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –±–æ—Ç –ø–æ–∫–∞–∑—É—î:

```
_‚è±Ô∏è 10500ms | council-5members-gemini-chairman_
```

- **10500ms** - —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- **5members** - —Å–∫—ñ–ª—å–∫–∏ –º–æ–¥–µ–ª–µ–π –¥–∞–ª–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- **gemini-chairman** - —Ö—Ç–æ –±—É–≤ –≥–æ–ª–æ–≤–æ—é —Ä–∞–¥–∏

---

## üîß Advanced: –†—É—á–Ω–∏–π –≤–∏–∫–ª–∏–∫ Council

–ú–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ council mode –Ω–∞–ø—Ä—è–º—É —á–µ—Ä–µ–∑ API:

```python
from app.services.llm import llm_service

response = await llm_service.generate_with_routing(
    prompt="–°–∫–ª–∞–¥–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è",
    system="System prompt",
    mode="council",  # –§–æ—Ä—Å—É–≤–∞—Ç–∏ council
    max_tokens=2000
)
```

–ê–±–æ –¥–æ–¥–∞—Ç–∏ –∫–æ–º–∞–Ω–¥—É –≤ –±–æ—Ç:
```
/council <–ø–∏—Ç–∞–Ω–Ω—è>
```

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä Telegram –±–æ—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **–Ω–∞–π–∫—Ä–∞—â—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤—ñ–¥ Karpathy** –¥–ª—è —Å–∫–ª–∞–¥–Ω–∏—Ö –ø–∏—Ç–∞–Ω—å!

**–°–ø—Ä–æ–±—É–π:**
```
–†–æ–∑–∫–∞–∂–∏ –ø—Ä–æ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º–∏
–ü–æ—Ä—ñ–≤–Ω—è–π OpenSearch —ñ Elasticsearch
–ü–æ—è—Å–Ω–∏ –¥–µ—Ç–∞–ª—å–Ω–æ —è–∫ –ø—Ä–∞—Ü—é—î –ø–∞—Ä—Å–∏–Ω–≥
```

–Ü –ø–æ–±–∞—á —è–∫ 5 AI –º–æ–¥–µ–ª–µ–π –ø—Ä–∞—Ü—é—é—Ç—å —Ä–∞–∑–æ–º! üöÄüß†
