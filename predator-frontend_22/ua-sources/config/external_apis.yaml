external_apis:
  # --- 1. МИТНИЦЯ (CUSTOMS) ---
  - id: ua_customs_open
    name: "ДМСУ — Відкриті дані декларацій"
    category: customs
    base_url: "https://open-api.customs.gov.ua"
    auth_type: NONE
    description: "Анонімізовані дані експортно-імпортних операцій (4 млн+ записів)"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "0 * * * *", mode: incremental }
    enabled: true

  - id: ua_customs_priv
    name: "ДМСУ — Власні декларації (SW4)"
    category: customs
    base_url: "https://sw4.customs.gov.ua"
    auth_type: EDS
    secret_ref: "vault:external/ua_customs/eds"
    description: "Повні дані власних декларацій через SW4 (потрібен ЕЦП/Токен)"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "30 2 * * *", mode: incremental }
    enabled: true

  - id: ua_customs_ref
    name: "ДМСУ — Довідники (НСІ)"
    category: customs
    base_url: "https://refs.customs.gov.ua"
    auth_type: NONE
    description: "Довідники митних кодів та класифікаторів"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "0 0 * * 1", mode: full_refresh }
    enabled: true

  # --- 2. ПОДАТКИ (TAX) ---
  - id: ua_tax_cab
    name: "ДПС — Електронний кабінет API"
    category: tax
    base_url: "https://cabinet.tax.gov.ua"
    auth_type: API_KEY
    secret_ref: "vault:external/ua_tax/cabinet"
    description: "Відкрита частина реєстрів Електронного кабінету платника"
    rate_limit: { requests_per_minute: 20 }
    schedule: { cron: "0 */6 * * *", mode: incremental }
    enabled: true

  - id: ua_tax_single
    name: "ДПС — Реєстр єдиного податку"
    category: tax
    base_url: "https://data.gov.ua"
    auth_type: NONE
    description: "Дані про ФОП та юросіб на єдиному податку"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "0 3 * * *", mode: full_refresh }
    enabled: true

  - id: ua_tax_vat
    name: "ДПС — Реєстр платників ПДВ"
    category: tax
    base_url: "https://data.gov.ua"
    auth_type: NONE
    description: "Суб'єкти, зареєстровані як платники ПДВ"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "30 3 * * *", mode: full_refresh }
    enabled: true

  - id: ua_tax_debt
    name: "ДПС — Боржники"
    category: tax
    base_url: "https://data.gov.ua"
    auth_type: NONE
    description: "Інформація про боржників і розстрочки податкового боргу"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "0 4 * * *", mode: full_refresh }
    enabled: true

  - id: ua_tax_large
    name: "ДПС — Великі платники"
    category: tax
    base_url: "https://data.gov.ua"
    auth_type: NONE
    description: "Реєстр великих платників податків"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "30 4 * * *", mode: full_refresh }
    enabled: true

  - id: ua_tax_excise
    name: "ДПС — Акцизні склади"
    category: tax
    base_url: "https://data.gov.ua"
    auth_type: NONE
    description: "Реєстр платників акцизного податку та складів"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "0 5 * * *", mode: full_refresh }
    enabled: true

  # --- 3. ФІНАНСИ (FINANCE) ---
  - id: ua_nbu_fx
    name: "НБУ — Курси валют"
    category: finance
    base_url: "https://bank.gov.ua"
    auth_type: NONE
    description: "Офіційні курси валют НБУ (JSON/XML)"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "5 17 * * *", mode: daily }
    enabled: true

  - id: ua_spending
    name: "Spending.gov.ua — Контракти"
    category: finance
    base_url: "https://api.spending.gov.ua"
    auth_type: NONE
    description: "Єдиний веб-портал використання публічних фінансів"
    rate_limit: { requests_per_minute: 0 }
    schedule: { cron: "15 * * * *", mode: incremental }
    enabled: true

  - id: alpha_vantage
    name: "Alpha Vantage"
    category: finance
    base_url: "https://www.alphavantage.co"
    auth_type: API_KEY
    secret_ref: "vault:external/alpha_vantage/api_key"
    description: "Акції, FOREX, крипта, макроекономіка"
    rate_limit: { requests_per_minute: 5 }
    schedule: { cron: "*/15 * * * *", mode: watchlist }
    enabled: true

  - id: finnhub
    name: "Finnhub"
    category: finance
    base_url: "https://finnhub.io"
    auth_type: API_KEY
    secret_ref: "vault:external/finnhub/api_key"
    description: "Фінансові дані (Free tier)"
    rate_limit: { requests_per_minute: 30 }
    schedule: { cron: "*/10 * * * *", mode: watchlist }
    enabled: true

  - id: fmp
    name: "Financial Modeling Prep"
    category: finance
    base_url: "https://financialmodelingprep.com"
    auth_type: API_KEY
    secret_ref: "vault:external/fmp/api_key"
    description: "Фінансові звіти та біржові дані"
    rate_limit: { requests_per_minute: 5 }
    schedule: { cron: "*/30 * * * *", mode: watchlist }
    enabled: true

  # --- 4. БУДІВНИЦТВО ТА ЗЕМЛЯ (PROPERTY) ---
  - id: ua_diam
    name: "ДІАМ — Будівництво (ЄДЕССБ)"
    category: aggregator
    base_url: "https://e-construction.gov.ua"
    auth_type: NONE
    description: "Реєстр будівельної діяльності"
    rate_limit: { requests_per_minute: 10 }
    schedule: { cron: "0 2 * * *", mode: incremental }
    enabled: true

  - id: ua_dzc
    name: "ДЗК — Земельний кадастр"
    category: aggregator
    base_url: "https://map.land.gov.ua"
    auth_type: EDS
    secret_ref: "vault:external/ua_dzc/eds"
    description: "Публічна кадастрова карта (API витягів)"
    rate_limit: { requests_per_minute: 5 }
    schedule: { cron: "0 3 * * *", mode: on_demand }
    enabled: true

  # --- 5. ТЕНДЕРИ (TENDERS) ---
  - id: ua_prozorro
    name: "ProZorro Public API"
    category: tenders
    base_url: "https://public.api.openprocurement.org"
    auth_type: API_KEY
    secret_ref: "vault:external/ua_prozorro/api_key"
    description: "Електронні закупівлі ProZorro"
    rate_limit: { requests_per_minute: 60 }
    schedule: { cron: "*/30 * * * *", mode: incremental }
    enabled: true

  - id: ua_prozorro_sale
    name: "ProZorro Продажі"
    category: tenders
    base_url: "https://api.prozorro.sale"
    auth_type: API_KEY
    secret_ref: "vault:external/ua_prozorro_sale/api_key"
    description: "Аукціони з продажу майна"
    rate_limit: { requests_per_minute: 40 }
    schedule: { cron: "*/30 * * * *", mode: incremental }
    enabled: true

  - id: ua_clarity
    name: "Clarity Project"
    category: tenders
    base_url: "https://api.clarity-project.info"
    auth_type: NONE
    description: "Аналітика держзакупівель та контрактів"
    rate_limit: { requests_per_minute: 15 }
    schedule: { cron: "*/30 * * * *", mode: incremental }
    enabled: true

  # --- 6. РЕЄСТРИ ТА СУДИ (REGISTRIES) ---
  - id: ua_court
    name: "Судова Влада України"
    category: aggregator
    base_url: "https://court.gov.ua"
    auth_type: NONE
    description: "Розклад засідань та стан розгляду справ"
    rate_limit: { requests_per_minute: 10 }
    schedule: { cron: "0 8 * * *", mode: daily }
    enabled: true

  - id: opendatabot
    name: "OpenDataBot"
    category: aggregator
    base_url: "https://api.opendatabot.ua"
    auth_type: API_KEY
    secret_ref: "vault:external/opendatabot/api_key"
    description: "ЄДР, судові рішення, податкові борги"
    rate_limit: { requests_per_minute: 30 }
    schedule: { cron: "*/15 * * * *", mode: incremental }
    enabled: true

  - id: ua_edr
    name: "ЄДР (NAIS)"
    category: aggregator
    base_url: "https://nais.gov.ua"
    auth_type: EDS
    secret_ref: "vault:external/ua_edr/eds"
    description: "Єдиний державний реєстр юросіб та ФОП"
    rate_limit: { requests_per_minute: 5 }
    schedule: { cron: "0 1 * * *", mode: incremental }
    enabled: true

  # --- 7. КІБЕРБЕЗПЕКА (CYBERSEC) ---
  - id: abuse_ipdb
    name: "AbuseIPDB"
    category: cybersec
    base_url: "https://api.abuseipdb.com"
    auth_type: API_KEY
    secret_ref: "vault:external/abuseipdb/api_key"
    description: "База репутації IP адрес"
    rate_limit: { requests_per_minute: 40 }
    schedule: { cron: "*/5 * * * *", mode: on_demand }
    enabled: true

  - id: virustotal
    name: "VirusTotal Public"
    category: cybersec
    base_url: "https://www.virustotal.com"
    auth_type: API_KEY
    secret_ref: "vault:external/virustotal/api_key"
    description: "Перевірка файлів та URL"
    rate_limit: { requests_per_minute: 4 }
    schedule: { cron: "*/5 * * * *", mode: on_demand }
    enabled: true

  - id: hibp
    name: "HaveIBeenPwned"
    category: cybersec
    base_url: "https://haveibeenpwned.com"
    auth_type: API_KEY
    secret_ref: "vault:external/hibp/api_key"
    description: "Перевірка витоків даних"
    rate_limit: { requests_per_minute: 10 }
    schedule: { cron: "0 1 * * *", mode: on_demand }
    enabled: true

  - id: pulsedive
    name: "Pulsedive"
    category: cybersec
    base_url: "https://pulsedive.com"
    auth_type: API_KEY
    secret_ref: "vault:external/pulsedive/api_key"
    description: "Threat Intelligence & IOCs"
    rate_limit: { requests_per_minute: 2 }
    schedule: { cron: "*/30 * * * *", mode: on_demand }
    enabled: true

  - id: gsb
    name: "Google Safe Browsing"
    category: cybersec
    base_url: "https://safebrowsing.googleapis.com"
    auth_type: API_KEY
    secret_ref: "vault:external/gsb/api_key"
    description: "Перевірка URL на фішинг/малварь"
    rate_limit: { requests_per_minute: 60 }
    schedule: { cron: "*/5 * * * *", mode: on_demand }
    enabled: true